const a0_0xe56b14=a0_0x331c;(function(_0x57ce7a,_0x4f16ce){const _0x2ebecb=a0_0x331c,_0x5b0cda=_0x57ce7a();while(!![]){try{const _0x2d63e3=parseInt(_0x2ebecb(0x191))/0x1*(parseInt(_0x2ebecb(0x1a3))/0x2)+-parseInt(_0x2ebecb(0x185))/0x3+-parseInt(_0x2ebecb(0x161))/0x4+parseInt(_0x2ebecb(0x1a6))/0x5+-parseInt(_0x2ebecb(0x167))/0x6*(parseInt(_0x2ebecb(0x1b7))/0x7)+parseInt(_0x2ebecb(0x1a0))/0x8+parseInt(_0x2ebecb(0x1c8))/0x9;if(_0x2d63e3===_0x4f16ce)break;else _0x5b0cda['push'](_0x5b0cda['shift']());}catch(_0x5d9739){_0x5b0cda['push'](_0x5b0cda['shift']());}}}(a0_0x25ac,0xc7eb1));const API_BASE=['localhost','127.0.0.1'][a0_0xe56b14(0x1c0)](window[a0_0xe56b14(0x1cb)][a0_0xe56b14(0x1bb)])?'http://localhost:5000':window['location'][a0_0xe56b14(0x160)];console['log'](a0_0xe56b14(0x1c6),API_BASE);let activeSearchType=a0_0xe56b14(0x172);document['addEventListener'](a0_0xe56b14(0x186),function(){const _0x5afb39=a0_0xe56b14;document['querySelectorAll'](_0x5afb39(0x163))[_0x5afb39(0x16e)](_0x3d94d2=>_0x3d94d2[_0x5afb39(0x196)]['add'](_0x5afb39(0x169)));const _0x36054d=document['querySelectorAll'](_0x5afb39(0x174)),_0x4b67f2=document[_0x5afb39(0x166)](_0x5afb39(0x190)),_0x3ab789=document[_0x5afb39(0x1b0)](_0x5afb39(0x1c9));_0x36054d[_0x5afb39(0x16e)]((_0x53d758,_0x488de7)=>{const _0x28ca22=_0x5afb39;_0x53d758['addEventListener'](_0x28ca22(0x165),()=>{const _0x16db40=_0x28ca22;_0x36054d[_0x16db40(0x16e)](_0xea4031=>_0xea4031['classList'][_0x16db40(0x1b6)](_0x16db40(0x18e))),_0x53d758[_0x16db40(0x196)]['add'](_0x16db40(0x18e));const _0x5a5366=_0x53d758[_0x16db40(0x16f)](_0x16db40(0x194));_0x3ab789[_0x16db40(0x1ba)](_0x16db40(0x1ca),_0x5a5366),activeSearchType=_0x53d758[_0x16db40(0x16f)](_0x16db40(0x1c3)),_0x4b67f2[_0x16db40(0x1ab)][_0x16db40(0x18c)](_0x16db40(0x1aa),_0x488de7);});}),document['querySelector'](_0x5afb39(0x17f))[_0x5afb39(0x170)](_0x5afb39(0x165),async()=>{const _0x5c6632=_0x5afb39,_0x3b9a41=_0x3ab789[_0x5c6632(0x1b9)]['trim']();if(!_0x3b9a41||_0x3b9a41[_0x5c6632(0x195)]<0x3){alert('Vui\x20l√≤ng\x20nh·∫≠p\x20√≠t\x20nh·∫•t\x203\x20k√Ω\x20t·ª±.');return;}try{if(activeSearchType==='username'){const _0x144ffb=await safeFetch(API_BASE+_0x5c6632(0x19d)+encodeURIComponent(_0x3b9a41));if(!_0x144ffb){alert(_0x5c6632(0x1ae));return;}if(_0x144ffb[_0x5c6632(0x18f)]){alert(_0x144ffb[_0x5c6632(0x18f)]);return;}const {player:_0x4bf7c8,history:_0x13f215}=_0x144ffb;renderCharacterCard(_0x4bf7c8,_0x13f215);}else{if(activeSearchType==='oldusername'){const _0x30ced4=await safeFetch(API_BASE+'/api/user/search-old?query='+encodeURIComponent(_0x3b9a41));if(!_0x30ced4){alert(_0x5c6632(0x1ae));return;}if(_0x30ced4[_0x5c6632(0x18f)]){alert(_0x30ced4[_0x5c6632(0x18f)]);return;}const _0x10138f=_0x30ced4[_0x5c6632(0x198)]||[];if(_0x10138f[_0x5c6632(0x195)]===0x0)alert(_0x5c6632(0x183));else{if(_0x10138f[_0x5c6632(0x195)]===0x1){const _0x4dd4ee=_0x10138f[0x0],_0x36bd42=await fetchUserDetailById(_0x4dd4ee[_0x5c6632(0x171)]);_0x36bd42&&_0x36bd42[_0x5c6632(0x1b8)]?renderCharacterCard(_0x36bd42[_0x5c6632(0x1b8)],_0x36bd42[_0x5c6632(0x177)]):renderCharacterCard({'id':_0x4dd4ee['user_id'],'username':_0x4dd4ee[_0x5c6632(0x172)]},_0x4dd4ee['history']);}else renderUserList(_0x10138f,_0x3b9a41);}}else alert('Lo·∫°i\x20t√¨m\x20ki·∫øm\x20kh√¥ng\x20h·ª£p\x20l·ªá.');}}catch(_0x478c4e){console[_0x5c6632(0x18f)](_0x5c6632(0x1be),_0x478c4e),alert(_0x5c6632(0x176));}});});async function safeFetch(_0x8245f0,{timeout:timeout=0x1f40}={}){const _0x30383e=a0_0xe56b14,_0x398746=new AbortController(),_0x210b34=setTimeout(()=>_0x398746[_0x30383e(0x1a5)](),timeout);try{const _0xb1301d=await fetch(_0x8245f0,{'signal':_0x398746[_0x30383e(0x1c4)],'credentials':'same-origin','headers':{'Accept':_0x30383e(0x17e)}});clearTimeout(_0x210b34);if(!_0xb1301d['ok'])try{const _0x259560=await _0xb1301d[_0x30383e(0x181)]();return _0x259560;}catch(_0xec8dd7){return null;}return await _0xb1301d[_0x30383e(0x181)]();}catch(_0x5856ce){return clearTimeout(_0x210b34),console[_0x30383e(0x18f)](_0x30383e(0x19e),_0x5856ce),null;}}async function fetchUserDetailById(_0x43d7f1){if(!_0x43d7f1)return null;const _0x293b71=API_BASE+'/api/user/by-id/'+encodeURIComponent(_0x43d7f1),_0x957fbd=API_BASE+'/api/user/search?username='+encodeURIComponent(_0x43d7f1);let _0x366049=await safeFetch(_0x293b71);if(_0x366049&&(_0x366049['player']||!_0x366049['error']))return _0x366049;return _0x366049=await safeFetch(_0x957fbd),_0x366049;}function copyId(){const _0x4c612c=a0_0xe56b14,_0x73f67=document['getElementById'](_0x4c612c(0x1c5))['textContent'];navigator[_0x4c612c(0x1af)][_0x4c612c(0x193)](_0x73f67)['then'](()=>{const _0x4a28d1=_0x4c612c;alert(_0x4a28d1(0x16a)+_0x73f67);})['catch'](_0x1fe451=>{const _0x3b5670=_0x4c612c;console[_0x3b5670(0x18f)](_0x3b5670(0x1a8),_0x1fe451);});}function a0_0x25ac(){const _0x33e412=['playerId','üîó\x20API_BASE\x20=','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22chip\x22>Roses:\x20','8017488dtYPGY','searchInput','placeholder','location','\x0a\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','origin','284608rnIuwP','Kh√¥ng\x20th·ªÉ\x20l·∫•y\x20chi\x20ti·∫øt\x20user.','.fade','\x0a\x20\x20\x20\x20<div\x20class=\x22user-list\x20fade\x20show\x22>\x0a\x20\x20\x20\x20\x20\x20<h3>T√¨m\x20th·∫•y\x20','click','querySelector','30YimXhN','display','show','ƒê√£\x20sao\x20ch√©p\x20ID:\x20','level','trim','add','forEach','getAttribute','addEventListener','user_id','username','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab','join','Kh√¥ng\x20th·ªÉ\x20t√¨m\x20th·∫•y\x20ng∆∞·ªùi\x20d√πng.','history','toggleOldUsernames','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22copyId()\x22\x20class=\x22copy-btn\x22\x20title=\x22Sao\x20ch√©p\x20ID\x22><i\x20class=\x22fa-solid\x20fa-copy\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Last\x20Online:</strong>\x20','Xem\x20th√™m','map','application/json','.btn-apply','filter','json','L·ªói\x20khi\x20l·∫•y\x20chi\x20ti·∫øt\x20user.','Kh√¥ng\x20t√¨m\x20th·∫•y\x20ng∆∞·ªùi\x20d√πng\x20v·ªõi\x20Old\x20Username\x20n√†y.','\x22</h3>\x0a\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4478964eOSilT','DOMContentLoaded','url','currentTarget','isArray','Asia/Ho_Chi_Minh','</h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-meta\x20d-flex\x20justify-content-evenly\x20py-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22chip\x22>Level\x20','setProperty',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','active','error','.tab-container','45651nPpRzb','status','writeText','data-placeholder','length','classList','textContent','users','Kh√¥ng\x20c√≥','rankedSeasonMaxSkill','vi-VN','receivedRosesCount','/api/user/search?username=','safeFetch\x20error','string','1554296NLOxHY','lastOnline','slice','18VFmvwi','querySelectorAll','abort','5904485SscZqa','toLocaleString','L·ªói\x20sao\x20ch√©p:','\x20ng∆∞·ªùi\x20t·ª´ng\x20d√πng\x20\x22','--tab-index','style','N/A','https://i.imgur.com/M6y0vKQ.png','Kh√¥ng\x20th·ªÉ\x20k·∫øt\x20n·ªëi\x20t·ªõi\x20API','clipboard','getElementById','L·ªói\x20khi\x20l·∫•y\x20chi\x20ti·∫øt\x20user:','button[data-idx]','\x20avatar\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22card-title\x20py-2\x22>','.character-card','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Max\x20Skill:</strong>\x20','remove','411418JNizFw','player','value','setAttribute','hostname','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22chip\x22>','resultBox','L·ªói\x20khi\x20g·ªçi\x20API:','oldUsernamesPreview','includes','\x0a\x20\x20\x20\x20<div\x20class=\x22character-card\x20fade\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-image\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','rankedSeasonSkill','data-type','signal'];a0_0x25ac=function(){return _0x33e412;};return a0_0x25ac();}function safeDisplay(_0xc293c8){const _0xa3b8ea=a0_0xe56b14;if(_0xc293c8===null||_0xc293c8===undefined)return'N/A';if(typeof _0xc293c8==='number'&&_0xc293c8===-0x1)return'·∫®n';if(typeof _0xc293c8===_0xa3b8ea(0x19f)&&_0xc293c8[_0xa3b8ea(0x16c)]()==='')return _0xa3b8ea(0x199);return _0xc293c8;}function a0_0x331c(_0x28e553,_0x42df49){const _0x25ac95=a0_0x25ac();return a0_0x331c=function(_0x331c4e,_0x171de9){_0x331c4e=_0x331c4e-0x15f;let _0x513822=_0x25ac95[_0x331c4e];return _0x513822;},a0_0x331c(_0x28e553,_0x42df49);}function renderUserList(_0x482116,_0xd2b78c){const _0x2392a2=a0_0xe56b14,_0x127c52=document[_0x2392a2(0x1b0)]('resultBox');_0x127c52[_0x2392a2(0x179)]=_0x2392a2(0x164)+_0x482116[_0x2392a2(0x195)]+_0x2392a2(0x1a9)+_0xd2b78c+_0x2392a2(0x184)+_0x482116[_0x2392a2(0x17d)]((_0x1712b8,_0x39e31a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin:6px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-primary\x22\x20data-idx=\x22'+_0x39e31a+_0x2392a2(0x173)+_0x1712b8['username']+'\x20(ID:\x20'+_0x1712b8[_0x2392a2(0x171)]+_0x2392a2(0x18d))[_0x2392a2(0x175)]('')+_0x2392a2(0x15f),_0x127c52[_0x2392a2(0x1a4)](_0x2392a2(0x1b2))[_0x2392a2(0x16e)](_0x2e68e8=>{_0x2e68e8['addEventListener']('click',async _0x293ea9=>{const _0xb33e68=a0_0x331c,_0x219294=Number(_0x293ea9[_0xb33e68(0x188)][_0xb33e68(0x16f)]('data-idx')),_0x21a17d=_0x482116[_0x219294];try{const _0x4739ee=await fetchUserDetailById(_0x21a17d['user_id']);if(_0x4739ee&&_0x4739ee[_0xb33e68(0x1b8)])renderCharacterCard(_0x4739ee[_0xb33e68(0x1b8)],_0x4739ee[_0xb33e68(0x177)]);else _0x4739ee&&_0x4739ee['error']?alert(_0x4739ee[_0xb33e68(0x18f)]):alert(_0xb33e68(0x162));}catch(_0xee61d3){console[_0xb33e68(0x18f)](_0xb33e68(0x1b1),_0xee61d3),alert(_0xb33e68(0x182));}});});}function renderCharacterCard(_0x41299a,_0x3d0863){const _0x59bae5=a0_0xe56b14,_0x311574=document[_0x59bae5(0x1b0)](_0x59bae5(0x1bd)),_0x3496fd=_0x41299a['equippedAvatar']?.[_0x59bae5(0x187)]||_0x59bae5(0x1ad),_0x683319=_0x41299a[_0x59bae5(0x1a1)]?new Date(_0x41299a[_0x59bae5(0x1a1)])['toLocaleString']('vi-VN',{'timeZone':_0x59bae5(0x18a)}):_0x59bae5(0x1ac),_0x58028e=new Date(),_0x311123=_0x58028e[_0x59bae5(0x1a7)](_0x59bae5(0x19b),{'timeZone':_0x59bae5(0x18a),'hour12':![]});_0x311574[_0x59bae5(0x179)]=_0x59bae5(0x1c1)+_0x3496fd+'\x22\x20class=\x22img-fluid\x22\x20style=\x22transform:\x20scale(1.15);\x22\x20alt=\x22'+_0x41299a['username']+_0x59bae5(0x1b3)+safeDisplay(_0x41299a[_0x59bae5(0x172)])+_0x59bae5(0x18b)+safeDisplay(_0x41299a[_0x59bae5(0x16b)])+_0x59bae5(0x1bc)+safeDisplay(_0x41299a[_0x59bae5(0x192)])+_0x59bae5(0x1c7)+safeDisplay(_0x41299a[_0x59bae5(0x19c)]||0x0)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ID:</strong>\x20<span\x20id=\x22playerId\x22>'+_0x41299a['id']+_0x59bae5(0x17b)+_0x683319+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Ranked\x20Skill:</strong>\x20'+safeDisplay(_0x41299a[_0x59bae5(0x1c2)])+_0x59bae5(0x1b5)+safeDisplay(_0x41299a[_0x59bae5(0x19a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Old\x20Usernames:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22oldUsernamesPreview\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22toggleOldUsernames\x22\x20style=\x22padding:3px\x22\x20class=\x22btn\x20btn-sm\x20btn-secondary\x20ms-2\x22>Xem\x20th√™m</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-actions\x20d-flex\x20justify-content-between\x20mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22font-size:0.85rem;color:rgba(255,255,255,0.85)\x22>ƒê∆∞·ª£c\x20c·∫•p:\x20Somedieyoung\x20‚Ä¢\x20'+_0x311123+_0x59bae5(0x17a);const _0xda092c=_0x311574[_0x59bae5(0x166)](_0x59bae5(0x1b4));_0xda092c&&(void _0xda092c['offsetWidth'],_0xda092c[_0x59bae5(0x196)][_0x59bae5(0x16d)](_0x59bae5(0x169)));let _0x5bf7dc=_0x3d0863?.['oldusername']||'',_0x582ba7=[];if(Array[_0x59bae5(0x189)](_0x5bf7dc))_0x582ba7=_0x5bf7dc[_0x59bae5(0x180)](_0x1d2e35=>_0x1d2e35[_0x59bae5(0x16c)]());else typeof _0x5bf7dc===_0x59bae5(0x19f)&&(_0x582ba7=_0x5bf7dc['split'](',')[_0x59bae5(0x17d)](_0x20e965=>_0x20e965['trim']())[_0x59bae5(0x180)](_0xac9752=>_0xac9752));const _0x20dd08=document[_0x59bae5(0x1b0)](_0x59bae5(0x1bf)),_0x14390c=document['getElementById'](_0x59bae5(0x178));if(_0x582ba7['length']===0x0)_0x20dd08[_0x59bae5(0x197)]=_0x59bae5(0x199),_0x14390c[_0x59bae5(0x1ab)][_0x59bae5(0x168)]='none';else{let _0x387c37=![];const _0xd2d6e1=()=>{const _0x34ac64=_0x59bae5;if(_0x387c37)_0x20dd08[_0x34ac64(0x197)]=_0x582ba7[_0x34ac64(0x175)](',\x20'),_0x14390c[_0x34ac64(0x197)]='Thu\x20g·ªçn';else{const _0x592641=_0x582ba7[_0x34ac64(0x1a2)](0x0,0x3)[_0x34ac64(0x175)](',\x20');_0x20dd08[_0x34ac64(0x197)]=_0x582ba7[_0x34ac64(0x195)]>0x3?_0x592641+'‚Ä¶':_0x592641,_0x14390c[_0x34ac64(0x197)]=_0x34ac64(0x17c);}};_0x14390c[_0x59bae5(0x170)]('click',()=>{_0x387c37=!_0x387c37,_0xd2d6e1();}),_0xd2d6e1();}}